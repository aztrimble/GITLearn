<launch>
    <!-- First launch the standard turtlesim node -->
    <node name="turtlesim"
          pkg="turtlesim" 
          type="turtlesim_node"
          output="screen">
    </node>

    <!-- Read in custom parameters from the config file -->
    <rosparam file="$(find me696_turtlesim)/config/pp_circle_config.yaml"/>

    <!-- Use the custom parameters to set up the turtlesim window -->
    <node name="turtlesim_config"
          pkg="me696_turtlesim"
          type="config_window.py"
          output="screen">
    </node>

    <!-- Start the leader moving using the circle behavior -->
    <node name="leader_path"
          pkg="me696_turtlesim"
          type="leaderBehavior_circle"
          output="screen">
    </node>

    <!-- Start the follower dynamics -->
    <node name="follower_dynamics"
          pkg="me696_turtlesim"
          type="dynamics_mithc"
          output="screen">
    </node>

    <!-- Start the pure_pursuit guidance-->
    <node name="follower_guidance_pp"
          pkg="guidance"
          type="pp_ros"
          output="screen">
        <remap from="/follower/cmd_vel" to="/follower/d_vel"/>
    </node>

</launch>
